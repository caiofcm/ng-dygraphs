{"version":3,"file":"ng-dygraphs.umd.min.js","sources":["~/ng-dygraphs/src/ng-dygraphs.component.ts","~/ng-dygraphs/index.ts"],"sourcesContent":["import { Component, Input, ElementRef, OnInit, OnChanges, ViewChild, SimpleChanges } from '@angular/core';\nimport { DygraphOptions } from './dygraphOptions';\n\ndeclare const Dygraph: any;\n\n@Component({\n  selector: 'ng-dygraphs',\n  template: `\n    <div class=\"ng-dygraphs\">\n        <div *ngIf=\"loadingInProgress\" class=\"loader-holder\">\n            <div class=\"loader\"></div>\n        </div>\n        <div *ngIf=\"customVisibility\" class=\"name-nodes-holder\">\n            <div class=\"checkbox\" *ngFor=\"let lineLabel of labels;let i = index;\">\n                <label id=\"status_column\">\n                    <input type=\"checkbox\" attr.id=\"{{i}}\" checked=\"true\" (change)=\"changeVisibility($event)\"/>\n                    {{lineLabel}}\n                 </label>\n            </div>\n        </div>\n        <div class=\"ng-dygraphs-chart-container\">\n            <div [ngClass]=\"{'hide': !data?.length}\" #chart [style.width.px]=\"chartWidth\" [style.height.px]=\"chartHeight\"></div>\n            <div *ngIf=\"!data?.length\" class=\"nodata\" [style.width.px]=\"chartWidth\" [style.height.px]=\"chartHeight\">\n              {{noDataLabel}}\n            </div>\n        </div>\n    </div>\n  `,\n  styles: [`\n    .ng-dygraphs {\n      position: relative; }\n      .ng-dygraphs .name-nodes-holder {\n        display: -ms-flexbox;\n        display: -webkit-box;\n        display: flex;\n        -ms-flex-direction: row;\n            -webkit-box-orient: horizontal;\n            -webkit-box-direction: normal;\n                flex-direction: row;\n        padding-right: 30px;\n        padding-left: 30px; }\n        .ng-dygraphs .name-nodes-holder .checkbox {\n          display: -ms-flexbox;\n          display: -webkit-box;\n          display: flex;\n          -ms-flex-positive: 1;\n              -webkit-box-flex: 1;\n                  flex-grow: 1; }\n      .ng-dygraphs .ng-dygraphs-chart-container {\n        background-color: #fff;\n        padding: 24px; }\n        .ng-dygraphs .ng-dygraphs-chart-container .nodata {\n          display: -ms-flexbox;\n          display: -webkit-box;\n          display: flex;\n          -webkit-box-pack: center;\n             -ms-flex-pack: center;\n           justify-content: center;\n         -webkit-box-align: center;\n            -ms-flex-align: center;\n               align-items: center;\n          color: #5c5c5c;\n          font-weight: bold;\n          font-size: 24px; \n          display: flex;\n          -ms-flex-line-pack: center;\n              align-content: center; }\n        .ng-dygraphs .ng-dygraphs-chart-container .hide {\n           display: none; }\n      .ng-dygraphs .loader-holder {\n        position: absolute;\n        display: -ms-flexbox;\n        display: -webkit-box;\n        display: flex;\n        -ms-flex-align: center;\n            -webkit-box-align: center;\n                align-items: center;\n        width: 100%;\n        height: 100%;\n        background-color: #fff;\n        z-index: 55;\n        opacity: 0.9; }\n      .ng-dygraphs .loader {\n        color: #0dc5c1;\n        font-size: 20px;\n        margin: 100px auto;\n        width: 1em;\n        height: 1em;\n        border-radius: 50%;\n        position: relative;\n        text-indent: -9999em;\n        -webkit-animation: load4 1.3s infinite linear;\n        animation: load4 1.3s infinite linear;\n        -webkit-transform: translateZ(0);\n        transform: translateZ(0); }\n\n    @-webkit-keyframes load4 {\n      0%,\n      100% {\n        -webkit-box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;\n                box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0; }\n      12.5% {\n        -webkit-box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em; }\n      25% {\n        -webkit-box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em; }\n      37.5% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em; }\n      50% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em; }\n      62.5% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em; }\n      75% {\n        -webkit-box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;\n                box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0; }\n      87.5% {\n        -webkit-box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;\n                box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em; } }\n\n    @keyframes load4 {\n      0%,\n      100% {\n        -webkit-box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0;\n                box-shadow: 0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0; }\n      12.5% {\n        -webkit-box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em; }\n      25% {\n        -webkit-box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em; }\n      37.5% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em; }\n      50% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em; }\n      62.5% {\n        -webkit-box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em;\n                box-shadow: 0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em; }\n      75% {\n        -webkit-box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0;\n                box-shadow: 0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0; }\n      87.5% {\n        -webkit-box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em;\n                box-shadow: 0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em; } }\n  `]\n})\n/**\n * Wrapper arround Dygraphs\n *\n * @class NgDygraphsComponent\n */\nexport class NgDygraphsComponent implements OnInit, OnChanges {\n  @Input() public options: DygraphOptions;\n  @Input() public data: any;\n  @Input() public customVisibility: boolean;\n  @Input() public noDataLabel: string;\n  @ViewChild('chart') public chart: ElementRef;\n\n  public loadingInProgress: boolean;\n  public chartWidth: number;\n  public chartHeight: number;\n  public labels: string[];\n\n  private _g: any;\n\n  public ngOnInit() {\n    this.noDataLabel =  this.noDataLabel  || 'NO DATA AVAILABLE';\n    this.chartWidth = (this.options && this.options.width) || 640;\n    this.chartHeight = (this.options && this.options.height) || 480;\n  }\n\n  /**\n   * ngOnChanges\n   * @method ngOnChanges\n   * @return {void}\n   */\n  public ngOnChanges(changes: SimpleChanges) {\n\n    if (!changes) {\n      return;\n    }\n\n    if (!this.data || !this.data.length) {\n      this.loadingInProgress = false;\n      return;\n    }\n\n    this.loadingInProgress = true;\n\n    const options = Object.assign({}, this.options);\n\n    if (!options.width) { options.width = this.chartWidth; }\n    if (!options.height) { options.height = this.chartHeight; }\n    if (!options.legend) { options.legend = 'always'; }\n\n    const initialVisibility: boolean[] = [];\n    if (options.labels) {\n      if (this.customVisibility && options.labels.length > 1) {\n        // options.labels[0] is always X axis\n        this.labels = options.labels.slice(1);\n      }\n\n      options.labels.forEach((_) => {\n        initialVisibility.push(true);\n      });\n    }\n    if (options.labels) { options.visibility = initialVisibility; }\n\n    setTimeout(() => {\n      if (this._g) { this._g.destroy(); }\n      this._g = new Dygraph(this.chart.nativeElement,\n        this.data,\n        options\n      );\n      this.loadingInProgress = false;\n    }, 500);\n  }\n\n  public changeVisibility(el: any) {\n    const elem = el.currentTarget;\n    this._g.setVisibility(parseInt(elem.id, 10), elem.checked);\n  }\n}\n","import { NgModule, ModuleWithProviders } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NgDygraphsComponent } from './src/ng-dygraphs.component';\n\n@NgModule({\n  imports: [\n    CommonModule\n  ],\n  declarations: [\n    NgDygraphsComponent\n  ],\n  exports: [\n    NgDygraphsComponent\n  ]\n})\nexport class NgDygraphsModule {\n  public static forRoot(): ModuleWithProviders {\n    return {\n      ngModule: NgDygraphsModule\n    };\n  }\n}\n"],"names":["NgDygraphsComponent","prototype","ngOnInit","this","noDataLabel","chartWidth","options","width","chartHeight","height","ngOnChanges","changes","initialVisibility","_this","data","length","loadingInProgress","Object","assign","legend","labels","customVisibility","slice","forEach","_","push","visibility","setTimeout","_g","destroy","Dygraph","chart","nativeElement","changeVisibility","el","elem","currentTarget","setVisibility","parseInt","id","checked","decorators","type","Component","args","selector","template","styles","ctorParameters","propDecorators","Input","ViewChild","NgDygraphsModule","forRoot","ngModule","NgModule","imports","CommonModule","declarations","exports"],"mappings":"iTASA,IAAAA,GAgBGA,EAAHC,UAAAC,SAAG,WADCC,KAEKC,YAAcD,KAAMC,aAAgB,oBADzCD,KAEKE,WAAaF,KAAMG,SAAWH,KAAKG,QAAQC,OAAU,IAD1DJ,KAEKK,YAAcL,KAAMG,SAAWH,KAAKG,QAAQG,QAAW,KAQ7DT,EAAHC,UAAAS,YAAG,SAAAC,GAAA,IAaOL,EAMAM,EAnBVC,EAAAV,KAESQ,IAIAR,KAAKW,MAAQX,KAAMW,KAAKC,QAG7BZ,KAEKa,mBAAoB,GAEnBV,EAAUW,OAAOC,OAAO,GAAIf,KAAKG,UAE1BC,QAASD,EAAQC,MAAQJ,KAAKE,YACtCC,EAAQG,SAAUH,EAAQG,OAASN,KAAKK,aACxCF,EAAQa,SAAUb,EAAQa,OAAS,UAElCP,EAA+B,GADjCN,EAEQc,SADNjB,KAEKkB,kBAA4C,EAAxBf,EAAQc,OAAOL,SAA1CZ,KAEKiB,OAASd,EAAQc,OAAOE,MAAM,IACrChB,EAEQc,OAAOG,QAAQ,SAACC,GADtBZ,EAEkBa,MAAK,MACvBnB,EAEQc,SAAUd,EAAQoB,WAAad,GAA3Ce,WAEW,WADLd,EAEKe,IAAMf,EAAKe,GAAGC,UADvBhB,EAEKe,GAAK,IAAIE,QAAQjB,EAAKkB,MAAMC,cAD/BnB,EAEKC,KADLR,GAEFO,EAEKG,mBAAoB,GACxB,MAlCDb,KAEKa,mBAAoB,IAmC5BhB,EAAHC,UAAAgC,iBAAG,SAAAC,GAEC,IADMC,EAAOD,EAAGE,cAEhBjC,KADKyB,GAAGS,cAAcC,SAASH,EAAKI,GAAI,IAAKJ,EAAKK,aAvEtD,SAAAxC,KAyEOA,EAAPyC,WAA2C,CAE3C,CADEC,KAAMC,EAAAA,UAAWC,KAAM,CAAA,CAEvBC,SADU,cAEVC,SADU,86BAsBVC,OADQ,CAAA,yyOA6HT/C,EAADgD,eAAC,WAAA,MAAA,IAEMhD,EAAPiD,eAAgE,CAIhE3C,QAHW,CAAA,CAAGoC,KAAMQ,EAAAA,QAIpBpC,KAHQ,CAAA,CAAG4B,KAAMQ,EAAAA,QAIjB7B,iBAHoB,CAAA,CAAGqB,KAAMQ,EAAAA,QAI7B9C,YAHe,CAAA,CAAGsC,KAAMQ,EAAAA,QAIxBnB,MAHS,CAAA,CAAGW,KAAMS,EAAAA,UAAWP,KAAM,CAAA,YC3OnC,IAAAQ,GAGGA,EAAHC,QAAG,WAEC,MADO,CAELC,SADUF,OALhB,SAAAA,KAQOA,EAAPX,WAA2C,CAE3C,CADEC,KAAMa,EAAAA,SAAUX,KAAM,CAAA,CAEtBY,QADS,CAEPC,EAAAA,cAEFC,aADc,CAEZ1D,GAEF2D,QADS,CAEP3D,OAIHoD,EAADJ,eAAC,WAAA,MAAA"}
